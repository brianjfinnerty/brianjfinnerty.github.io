<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width,initial-scale=1">
  <title>Learncube Library Widget</title>
  <link rel="stylesheet" type="text/css" href="https://static.learncube.net/vc/library/apisanity/client/css/app.css?apiuser">	
  <script type="text/javascript" src="https://static.learncube.net/vc/library/apisanity/client/js/app.js?apiuser"></script>
</head>
<body>
  <div id="lc-lib"></div>
  <script>
        const search = location.search.substring(1);
        let params;
        try {
          params = JSON.parse('{"' + decodeURI(search).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g,'":"') + '"}')
        } catch (err) {
          params = {}
        }

        const userType = params.userType || 'student'
        const userName = params.username || 'Test ' + userType
        const userId = params.userId || '1234'
        const token = 'local-' + (new Date()).toDateString().toLowerCase().split(' ').join('-')

        const lcConf = {
          'userid': userId, // Eg. "12345G"
          'username': userName, // Eg. "Test Widget Teacher",	
          'publicKey': '63d2dd20e7557161942c53e4',
          'userType': userType,	
          'validateUrl': 'http://localhost:3000/get-valid-token/'
        }
        const lcLibrary = new Library('#lc-lib', lcConf)
  </script>

   

</body>
</html>
