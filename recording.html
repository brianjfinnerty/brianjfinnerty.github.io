<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width,initial-scale=1">
  <title>Learncube Recording Widget</title>
  <link rel="stylesheet" type="text/css" href="https://static.learncube.net/client/recordings.css">
  <script type="text/javascript" src="https://static.learncube.net/client/recordings.js"></script>
  
  <!--link rel="stylesheet" type="text/css" href="https://static.learncube.net/vc/recordings/api/client/css/app.css?sept-17-2">	
  <script type="text/javascript" src="https://static.learncube.net/vc/recordings/api/client/js/app.js?sept-17-2"></script-->
  
</head>
<body>
  <div id="app"></div>
  <script>
        const search = location.search.substring(1);
	let params;
	try {
		params = JSON.parse('{"' + decodeURI(search).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g,'":"') + '"}')
	} catch (err) {
		params = {}
	}

	const userType = params.userType || 'student'
	const userName = 'Test ' + userType
	const token = 'local-' + (new Date()).toDateString().toLowerCase().split(' ').join('-')
	
        const lcConf = {
            'token': params.token || token, // Eg. "first-test-room-token"
            'userid': params.userId || '1234', // Eg. "12345G"
            'username': params.username || userName, // Eg. "Test Widget Teacher",	
            'publicKey': params.publicKey || '63d2dd20e7557161942c53e4',
      	    'userType': userType,	
      	    'instantClass': true,
	    'validateUrl': 'http://localhost:3000/get-valid-token/'
        }
	
	const litteraConf = {
            'token': params.token || '38ccda20-0def-4ad0-85d1-04ed9a1a592e', // Eg. "first-test-room-token"
            'userid': '600247', // Eg. "12345G"
            'username': 'production.learncube', // Eg. "Test Widget Teacher", 
            'publicKey': '9579e27751756ed4addcd787',
            'validateUrl': 'http://localhost:3000/get-valid-token/'
        }
  	const recording = new VcRecording('#app', lcConf, {'settings.enable_recording_download': true});
	  
	  
  </script>

   

</body>
</html>
