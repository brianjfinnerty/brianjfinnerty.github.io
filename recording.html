<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width,initial-scale=1">
  <title>Learncube Recording Widget</title>
  <link rel="stylesheet" type="text/css" href="https://static.learncube.net/client/recordings.release-cathy.css">
  <script type="text/javascript" src="https://static.learncube.net/client/recordings.release-cathy.js"></script>
</head>
<body>
  <div id="app"></div>
  <script>
        const search = location.search.substring(1);
  let params;
  try {
    params = JSON.parse('{"' + decodeURI(search).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g,'":"') + '"}')
  } catch (err) {
    params = {}
  }

  const userType = params.userType || 'student'
  const userName = 'Test ' + userType
  const token = 'local-' + (new Date()).toDateString().toLowerCase().split(' ').join('-')
  
        const lcConf = {
            'token': 'b6c47447-a349-4e78-b6fe-1a2d1a5db4a5', // Eg. "first-test-room-token"
            'userid': '587383', // Eg. "12345G"
            'username': 'dev.learncube', // Eg. "Test Widget Teacher", 
            'publicKey': 'd7dd65b25104a15e422a8651',
            'validateUrl': 'http://localhost:3000/get-valid-token/'
        }
  const recording = new VcRecording('#app', lcConf, {'video.videoprovider': 'agora'});
  </script>

   

</body>
</html>
